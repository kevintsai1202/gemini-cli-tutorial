## 技巧 1：使用 GEMINI.MD 進行持久上下文

**快速用例：** 停止在提示中重複自己。透過建立 `GEMINI.md` 檔案提供專案特定的上下文或說明，這樣 AI 總能擁有重要的背景知識，而無需每次都告知。

在處理專案時，您通常會有一些總體細節——例如編碼風格指南、專案架構或重要事實——您希望 AI 記住這些細節。Gemini CLI 允許您將這些編碼到一個或多個 `GEMINI.md` 檔案中。只需在您的專案中建立一個 `.gemini` 資料夾（如果尚未存在），然後新增一個名為 `GEMINI.md` 的 Markdown 檔案，其中包含您希望 AI 持久的任何筆記或說明。例如：

```markdown
# Phoenix 專案 - AI 助理

- 所有 Python 程式碼都必須遵循 PEP 8 風格。
- 使用 4 個空格進行縮排。
- 用戶正在建立資料管道；偏好函數式程式設計範式。
```

將此檔案放在您的專案根目錄（或子目錄中以獲得更細粒度的上下文）。現在，每當您在該專案中運行 `gemini` 時，它都會自動將這些說明載入到上下文中。這意味著模型將始終準備好這些說明，避免了每次提示時都重複相同的指導。

**工作原理：** Gemini CLI 使用分層上下文載入系統。它將結合全域上下文（來自 `~/.gemini/GEMINI.MD`，您可以將其用於跨專案預設值）與您的專案特定 `GEMINI.MD`，甚至子資料夾中的上下文檔案。更具體的檔案會覆蓋更通用的檔案。您可以隨時使用以下命令檢查載入了哪些上下文：

```sh
/memory show
```

這將顯示 AI 看到的完整組合上下文。如果您對 `GEMINI.MD` 進行了更改，請使用 `/memory refresh` 重新載入上下文，而無需重新啟動會話。

**專業技巧：** 使用 `/init` 斜線命令快速生成一個入門 `GEMINI.MD`。在新專案中運行 `/init` 會建立一個範本上下文檔案，其中包含檢測到的技術堆疊、專案摘要等資訊。然後您可以編輯和擴展該檔案。對於大型專案，請考慮將上下文分解為多個檔案，並使用 `@include` 語法將它們匯入 `GEMINI.MD`。例如，您的主要 `GEMINI.MD` 可以包含 `@./docs/prompt-guidelines.md` 等行，以引入其他上下文檔案。這可以使您的說明井然有序。

透過精心製作的 `GEMINI.MD`，您本質上為 Gemini CLI 提供了專案要求和約定的「記憶」。這種持久上下文會產生更相關的回應，並減少來回的提示工程。

## 技巧 2：建立自訂斜線命令

**快速用例：** 透過定義自己的斜線命令來加速重複性任務。例如，您可以建立一個 `/test:gen` 命令，根據描述生成單元測試，或者建立一個 `/db:reset` 命令，用於刪除並重新建立測試資料庫。這透過針對您的工作流程量身定制的一行程式碼擴展了 Gemini CLI 的功能。

Gemini CLI 支援您可以透過簡單的設定檔定義的自訂斜線命令。

在底層，這些本質上是預定義的提示範本。要建立一個，請在 `commands/` 目錄下建立一個 TOML 檔案，該目錄位於 `~/.gemini/`（用於全域命令）或您的專案的 `.gemini/` 資料夾（用於專案特定命令）中。在 `commands/` 內部，為每個新命令建立一個 TOML 檔案。檔案命名格式決定了命令名稱：例如，檔案 `test/gen.toml` 定義了一個命令 `/test:gen`。

讓我們來看一個範例。假設您想要一個命令，根據需求描述生成單元測試。您可以建立 `~/.gemini/commands/test/gen.toml`，其內容如下：

```toml
# 調用方式：/test:gen “測試描述”
description = “根據需求生成單元測試。”
prompt = “””
您是一位專業的測試工程師。根據以下需求，請使用 Jest 框架編寫一個全面的單元測試。

需求：{{args}}
“””
```

現在，重新載入或重新啟動 Gemini CLI 後，您只需輸入：

```sh
/test:gen “確保登入按鈕在成功後重新導向到儀表板”
```

Gemini CLI 將識別 `/test:gen` 並將您的提示範本中的 `{{args}}` 替換為提供的參數（在本例中為需求）。然後 AI 將相應地生成一個 Jest 單元測試。`description` 欄位是可選的，但在您運行 `/help` 或 `/tools` 列出可用命令時使用。

這種機制非常強大——實際上，您可以使用自然語言編寫 AI 腳本。社區已經建立了許多有用的自訂命令。例如，Google 的 DevRel 團隊分享了一組 10 個實用的工作流程命令（透過開源儲存庫），展示了如何編寫常見流程的腳本，例如建立 API 文件、清理資料或設定樣板程式碼。透過定義自訂命令，您可以將複雜的提示（或一系列提示）打包成可重複使用的捷徑。

**專業技巧：** 自訂命令還可以用於強制格式化或為 AI 應用「角色」以執行某些任務。例如，您可能有一個 `/review:security` 命令，它總是將提示詞開頭加上「您是安全稽核員...」，以審查程式碼中的漏洞。這種方法確保了 AI 對特定類別任務的回應一致性。

要與您的團隊共享命令，您可以將 TOML 檔案提交到您的專案儲存庫中（在 `.gemini/commands` 目錄下）。擁有 Gemini CLI 的團隊成員在專案中工作時將自動獲取這些命令。這是一個很好的方法，可以標準化團隊中的 AI 輔助工作流程。
