## 技巧 13：多目錄工作區 - 一個 GEMINI，多個資料夾

**快速用例：** 您的專案是否分散在多個儲存庫或目錄中？您可以一次性啟動 Gemini CLI 並存取所有這些儲存庫或目錄，這樣它就能看到一個統一的工作區。例如，如果您的前端和後端是獨立的資料夾，您可以同時包含它們，以便 Gemini 可以編輯或引用兩者中的檔案。

有兩種方法可以使用多目錄模式：

*   **啟動標誌：** 在啟動 Gemini CLI 時使用 `--include-directories`（或 `-I`）標誌。例如：

    ```pwsh
    gemini --include-directories “../backend:../frontend”
    ```

    這假設您從腳本目錄運行命令，並希望包含兩個同級資料夾。您提供一個以冒號分隔的路徑列表。Gemini CLI 將把所有這些目錄視為一個大工作區的一部分。
*   **持久設定：** 在您的 `settings.json` 中，您可以定義 `“includeDirectories”: [”path1”, “path2”, [...]`。這在您始終希望載入某些常用目錄時很有用（例如，多個專案使用的共享函式庫資料夾）。路徑可以是相對路徑或絕對路徑。路徑中的環境變數（例如 `~/common-utils`）是允許的。

當多目錄模式啟用時，CLI 的上下文和工具會考慮所有包含位置中的檔案。`> /directory show` 命令將列出目前工作區中的目錄。您還可以在會話期間使用 `/directory add [<path>]` 動態新增目錄——它將即時載入該目錄（可能會像啟動時一樣掃描它以獲取上下文）。

**為什麼使用多目錄模式？** 在微服務架構或模組化程式碼庫中，一段程式碼位於一個儲存庫中，而另一段程式碼位於不同的儲存庫中是很常見的。如果您只在一個儲存庫中運行 Gemini，它將無法「看到」其他儲存庫。透過將它們組合起來，您可以實現跨專案推理。例如，您可以詢問：「更新前端的 API 用戶端以匹配後端的新 API 端點」——Gemini 可以開啟後端資料夾以查看 API 定義，並同時開啟前端程式碼以相應地修改它。如果沒有多目錄，您將不得不一次處理一側並手動傳輸資訊。

**範例：** 假設您有 `client/` 和 `server/`。您開始：

```pwsh
cd client
gemini --include-directories “../server”
```

現在在 `gemini>` 提示符下，如果您執行 `> !ls`，您會看到它可以列出 `client` 和 `server` 中的檔案（它可能會將它們顯示為單獨的路徑）。您可以執行：

```
並排開啟 server/routes/api.py 和 client/src/api.js 以比較函數名稱。
```

AI 將可以存取這兩個檔案。或者您可能會說：

```
API 已更改：「/users/create」端點現在是「/users/register」。相應地更新後端和前端。
```

它可以同時在後端路由中建立補丁並調整前端擷取呼叫。

在底層，Gemini 合併了這些目錄的檔案索引。如果每個目錄都很大，可能會有一些效能考量，但通常它可以很好地處理多個中小型專案。備忘單指出這有效地建立了一個具有多個根目錄的工作區。

**技巧中的技巧：** 即使您不總是使用多目錄，也要知道您仍然可以在提示中透過絕對路徑引用檔案（`@/path/to/file`）。但是，如果沒有多目錄，Gemini 可能沒有權限編輯這些檔案，或者不知道如何主動從它們載入上下文。多目錄正式將它們包含在範圍內，因此它知道所有檔案，以便在整個集合中執行搜尋或程式碼生成等任務。

**移除目錄：** 如果需要，`/directory remove <path>`（或類似命令）可以從工作區中刪除目錄。這不太常見，但如果您不小心包含了某些內容，您可以將其刪除。

總之，多目錄模式統一了您的上下文。對於多儲存庫專案或程式碼分散的任何情況，它都是必不可少的。它使 Gemini CLI 更像一個開啟了整個解決方案的 IDE。作為專業用戶，這意味著您的專案沒有任何部分是 AI 無法觸及的。

## 技巧 14：在 AI 協助下組織和清理您的檔案

**快速用例：** 厭倦了雜亂的下載資料夾或雜亂無章的專案資產？您可以讓 Gemini CLI 充當智慧型組織者。透過向它提供目錄概覽，它可以對檔案進行分類，甚至將它們移動到子資料夾中（經您批准）。例如，「清理我的下載：將圖像移動到圖像資料夾，PDF 移動到文件，並刪除臨時檔案。」

由於 Gemini CLI 可以讀取檔案名、大小，甚至查看檔案內容，因此它可以對檔案組織做出明智的決定。一個由社群建立的工具，名為「Janitor AI」，展示了這一點：它透過 Gemini CLI 運行，將檔案分類為重要或垃圾，並相應地分組。該過程涉及掃描目錄，使用 Gemini 對檔案名和中繼資料（如果需要，還有內容）進行推理，然後將檔案移動到類別中。值得注意的是，它沒有自動刪除垃圾——而是將它們移動到垃圾桶資料夾以供審查。

以下是您如何手動使用 Gemini CLI 複製此工作流程：

1.  **調查目錄：** 使用提示讓 Gemini 列出並分類。例如：

    ```
    列出目前目錄中的所有檔案，並將它們分類為「圖像」、「影片」、「文件」、「壓縮檔」或「其他」。
    ```

    Gemini 可能會使用 `!ls` 或類似命令來獲取檔案列表，然後分析名稱/副檔名以產生類別。
2.  **規劃組織：** 詢問 Gemini 它希望如何重新組織。例如：

    ```
    為這些檔案提出一個新的資料夾結構。我希望按類型（圖像、影片、文件等）分開。還要識別任何看起來重複或不必要的檔案。
    ```

    AI 可能會回應一個計畫：例如，「建立資料夾：`Images/`、`Videos/`、`Documents/`、`Archives/`。將 `X.png`、`Y.jpg` 移動到 `Images/`；將 `A.mp4` 移動到 `Videos/`；等等。檔案 `temp.txt` 看起來不必要（可能是臨時檔案）。」
3.  **執行移動並確認：** 您可以然後指示它執行計畫。它可能會使用 `mv` 等 shell 命令來移動每個檔案。由於這會修改您的檔案系統，因此您將收到每個檔案的確認提示（除非您使用 YOLO 模式）。仔細批准移動。完成後，您的目錄將按照建議整齊地組織。

在整個過程中，Gemini 的自然語言理解是關鍵。例如，它可以推斷 `IMG_001.png` 是一個圖像，或者 `presentation.pdf` 是一個文件，即使沒有明確說明。它甚至可以開啟圖像（使用其視覺功能）以查看其中的內容——例如，區分螢幕截圖、照片和圖示——並相應地命名或排序。

**按內容重新命名檔案：** 一個特別神奇的用途是讓 Gemini 重新命名檔案以使其更具描述性。開發者社群文章「7 個瘋狂的 Gemini CLI 技巧」描述了 Gemini 如何掃描圖像並根據其內容自動重新命名它們。例如，名為 `IMG_1234.jpg` 的檔案如果 AI 看到它是登入螢幕的螢幕截圖，則可能會重新命名為 `login_screen.jpg`。為此，您可以提示：

```
對於這裡的每個 .png 圖像，查看其內容並將其重新命名為具有描述性的名稱。
```

Gemini 將開啟每個圖像（透過視覺工具），獲取描述，然後提出 `mv IMG_1234.png login_screen.png` 操作。這可以顯著改善資產的組織，尤其是在設計或照片資料夾中。

**兩階段方法：** Janitor AI 的討論指出了一個兩階段過程：首先是廣泛分類（重要、垃圾或其他），然後是細化分組。您可以模仿這一點：首先將可能可以刪除的檔案（可能是大型安裝程式 `.dmg` 檔案或重複檔案）與要保留的檔案分開。然後專注於組織保留的檔案。始終仔細檢查 AI 標記為垃圾的內容；它的猜測可能不總是正確的，因此需要人工監督。

**安全提示：** 當讓 AI 自由移動或刪除檔案時，請備份或至少準備好復原（使用 `/restore` 或您自己的備份）。進行試運行是明智的：要求 Gemini 列印它將執行的組織命令，而不執行它們，以便您可以審查。例如：「列出此計畫所需的 `mv` 和 `mkdir` 命令，但暫時不要執行它們。」一旦您審查了列表，您可以複製貼上執行它們，或指示 Gemini 繼續。

這是使用 Gemini CLI 執行「非顯而易見」任務的一個典型範例——它不僅僅是編寫程式碼，它還使用 AI 智慧進行系統維護。它可以節省時間並為混亂帶來一些秩序。畢竟，作為開發人員，我們累積了雜亂（日誌、舊腳本、下載），而 AI 清潔工可能非常方便。
